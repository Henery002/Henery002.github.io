---
title: 项目搭建/配置注意点
date: 2018-08-16 10:00:00
categories:
  - 原创
  - 工程搭建
tags:
  - 开发环境
  - npm
  - linux
---

## Leopard
【注意】：
1. 当前采用共享文件夹的方式开发，不需要开启相关服务。
2. 代码位于虚拟机下 `/mnt/hgfs/code/leopard` 位置，非 `/home/...`

-------------------------------------------------------------------------------------------

## D-Vault
**项目搭建配置大致流程：**

1. 在Linux环境下拉取远程代码
在linux下进入到指定目录下，执行：
```javascript
git lfs clone "http://wei.fanguang:datatom.com@211.144.114.26:5088/trunk/d-vault.git"
```
从代码线上拉取完整代码（存放在linux环境下）。

2. 修改相关配置
使用 `vi package.json` 命令修改以下文件：
   1. `./webui/package.json` 删除 `cross-env` 前缀【d-vault项目中必须项】

   2. `./webui/dist/api/config.ini.json` 配置Linux主机IP（即`192.168.3.24`）【d-vault项目中必须项】

3. 导入 `node_modules` 包（用于开启 npm 服务，必须项，否则无法开启服务）

4. 开启 npm 服务
在Linux下进入 `node-modules` 所在目录，开启 npm 服务：
```javascript
cd /home/code/d-vault-webui/
npm start
```

5. 在浏览器端打开 `"http://192.168.3.24:8989/#/home"`

【注意】：
   1. 进入到虚拟机 `/home/code/d-vault/webui` 下开启 npm 服务（必须项）
    若 npm 服务未开启或开启失败，无法访问 `192.168.1.221:8989/#/home`。开启失败原因可能是 该目录下 `node_modules` 包的问题。
    建议先备份该包再重新拷贝到原位置，再次尝试。
   2. 手动修改以下配置文件：
      1. `../webui/package.json`                  删除蓝色内容
      2. `../webui/dist/api/config.ini.json`      配置IP
      3. `../webui/src/conf/Conf.js`              将IP改为自己的节点 `192.168.1.221` （貌似不是必须？？？）

-------------------------------------------------------------------------------------------

## demo项目 - ant-design-pro：
【注意】：
Linux下：
   1. `git clone “http://...ant-design-pro.git”`      #从github上拉取源码
   2. `npm install`                                   #进入到项目目录下安装依赖包
   3. `npm start`                                     #启动服务
  【注】：若此时系统中已存在其他项目被启动的npm服务（即192.168.3.24:8000等端口已被占用），
则此时系统会询问并自动为当前项目分配一个端口号，用以在浏览器中打开该项目页面，如：

-------------------------------------------------------------------------------------------

## demo项目
【注意】：
  需进入到项目根目录下开启 npm 服务

-------------------------------------------------------------------------------------------

## Dana

-------------------------------------------------------------------------------------------

## signal-tunning（上海交警城市大脑项目）
**项目开发环境：**
  `node 8.9.3`、`windows`（`linux`下因暂时无法搭建VPN，所以无法开发）

**项目环境搭建大致流程：**
  由于该项目属于中途接手，所以脚手架之类的环境都已搭好，需要做的就是开启前端服务跑通页面。
   1. 使用`Cisco anyconnect（VPN）`连接阿里内网；
    【注意】：VPN的链接需要关闭杀毒软件、防火墙。
   2. `npm install` 之后，使用 `sh honeycomb_start.sh` 命令开启服务（也可在`package.json`中配置使用 npm start 开启服务）
    【注意】：若 `honeycomb_start` 命令找不到，可重新安装：
      `npm install -g honeycomb-cli@0.2.12`
   3. 打包：
      `sh honeycomb_package.sh`
      【注意】：该项目打包之后，貌似会自动删掉一部分东西，所以打包之前慎重，做好备份（貌似assets里的node_modules包会被删掉？）

-------------------------------------------------------------------------------------------

## PandaBI
**项目开发环境及架构：**
   1. `linux`
   2. `react` + `redux`

**项目开发模式环境搭建：**
  在clone下来代码线后，
     1. `npm install`

-------------------------------------------------------------------------------------------

## demo项目 - create-react-app
**项目开发环境及架构：**
   1. `macOs` /` iTerm2`(bash)
   2. `react`

**项目开发环境搭建流程：**
   1. `github: https://github.com/Henery002/create-react-app`
   2. 在目标路径下创建项目工程文件：【注：npx创建项目只是其中一种方式】
      1. `npx create-react-app my-app`
      2. `cd my-app`
      3. `npm start` / `yarn start`
      【注】：npx可以理解为npm指令的简化命令，此处可拉取远程Git仓库并在本地创建初始化工程文件`app/`。它会帮你创建一个 `app/` 文件夹，并初始化项目文件结构，安装`package.json`依赖包。无需配置，可以直接到 `/src` 下编写react代码。

      图示：

